(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},19:function(e,t,a){e.exports=a(47)},32:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(12),c=a.n(i),s=(a(30),a(32),a(3)),o=a(4),m=a(7),u=a(5),l=a(6),h=a(1),p="CELSIUS",d="FAHRENHEIT",w={TORMENTA:[200,232],LLOVIZNA:[300,321],LLUVIA:[500,531],NIEVE:[600,622],"\xc1TMOSFERA":[701,781],DESPEJADO:[800,800],NUBES:[801,804]},f={temperature:28,weatherState:500,humidity:100,wind:6.57,max_temperature:301.512,min_temperature:301.512,pressure:1011.82,deg:60.5004,time:1537741360,sunset:1537741360,sunrise:1537741360},y=[{temperature:29,weatherState:800,humidity:100,wind:7.26,max_temperature:29,min_temperature:28,pressure:1011.38,deg:67.0176,time:1537741360},{temperature:29,weatherState:800,humidity:100,wind:6.88,max_temperature:29,min_temperature:28,pressure:1012.93,deg:75.5027,time:1537741360},{temperature:28,weatherState:802,humidity:100,wind:6.32,max_temperature:28,min_temperature:27,pressure:1014.03,deg:80.0045,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:5.67,max_temperature:27,min_temperature:27,pressure:1012.85,deg:83.5023,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:5.56,max_temperature:27,min_temperature:27,pressure:1012.09,deg:83.5001,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:5.03,max_temperature:27,min_temperature:27,pressure:1013.15,deg:87.0086,time:1537741360},{temperature:27,weatherState:801,humidity:100,wind:4.03,max_temperature:27,min_temperature:27,pressure:1013.89,deg:60.5002,time:1537741360},{temperature:27,weatherState:801,humidity:100,wind:4.31,max_temperature:27,min_temperature:27,pressure:1012.15,deg:47.0029,time:1537741360},{temperature:26,weatherState:500,humidity:100,wind:4.31,max_temperature:26,min_temperature:26,pressure:1010.92,deg:52.0033,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:2.48,max_temperature:27,min_temperature:27,pressure:1012.33,deg:74.5062,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:2.12,max_temperature:27,min_temperature:27,pressure:1013.78,deg:67.5021,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:.97,max_temperature:27,min_temperature:27,pressure:1012.57,deg:47.0011,time:1537741360},{temperature:26,weatherState:500,humidity:100,wind:.45,max_temperature:26,min_temperature:26,pressure:1012.43,deg:111.001,time:1537741360},{temperature:27,weatherState:801,humidity:100,wind:1.47,max_temperature:27,min_temperature:27,pressure:1013.44,deg:188.5,time:1537741360},{temperature:27,weatherState:800,humidity:100,wind:.76,max_temperature:27,min_temperature:27,pressure:1014.1,deg:345.002,time:1537741360},{temperature:27,weatherState:800,humidity:100,wind:2.86,max_temperature:27,min_temperature:27,pressure:1012.27,deg:32.5018,time:1537741360},{temperature:27,weatherState:802,humidity:100,wind:3.91,max_temperature:27,min_temperature:27,pressure:1011.01,deg:71.5061,time:1537741360},{temperature:28,weatherState:500,humidity:100,wind:4.23,max_temperature:28,min_temperature:28,pressure:1011.87,deg:80.5005,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:4.81,max_temperature:28,min_temperature:28,pressure:1013.02,deg:83.5026,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:4.27,max_temperature:28,min_temperature:28,pressure:1011.13,deg:95.0026,time:1537741360},{temperature:28,weatherState:802,humidity:100,wind:3.41,max_temperature:28,min_temperature:28,pressure:1011.19,deg:93.5004,time:1537741360},{temperature:27,weatherState:500,humidity:100,wind:1.96,max_temperature:27,min_temperature:27,pressure:1012.52,deg:119.501,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:.92,max_temperature:28,min_temperature:28,pressure:1013.56,deg:44.0032,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:1.62,max_temperature:28,min_temperature:28,pressure:1011.71,deg:23.0004,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:4.51,max_temperature:28,min_temperature:28,pressure:1010.95,deg:64.0089,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:7.57,max_temperature:28,min_temperature:28,pressure:1011.91,deg:76.0018,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:7.72,max_temperature:28,min_temperature:28,pressure:1012.7,deg:89.0038,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:7.21,max_temperature:28,min_temperature:28,pressure:1011.55,deg:93.5011,time:1537741360},{temperature:27,weatherState:801,humidity:100,wind:7.11,max_temperature:27,min_temperature:27,pressure:1011.67,deg:95.5003,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:6.41,max_temperature:28,min_temperature:28,pressure:1013.28,deg:98.5032,time:1537741360},{temperature:28,weatherState:800,humidity:98,wind:5.02,max_temperature:28,min_temperature:28,pressure:1013.95,deg:78.001,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:5.37,max_temperature:28,min_temperature:28,pressure:1011.96,deg:65.0002,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:6.63,max_temperature:28,min_temperature:28,pressure:1011.38,deg:58.5024,time:1537741360},{temperature:28,weatherState:801,humidity:100,wind:7.26,max_temperature:28,min_temperature:28,pressure:1012.51,deg:74.0024,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:7.06,max_temperature:28,min_temperature:28,pressure:1013.79,deg:81.0007,time:1537741360},{temperature:27,weatherState:802,humidity:100,wind:6.51,max_temperature:27,min_temperature:27,pressure:1012.69,deg:84.5049,time:1537741360},{temperature:27,weatherState:803,humidity:100,wind:5.81,max_temperature:27,min_temperature:27,pressure:1012.58,deg:88.0011,time:1537741360},{temperature:27,weatherState:803,humidity:100,wind:6,max_temperature:27,min_temperature:27,pressure:1013.9,deg:85.0021,time:1537741360},{temperature:28,weatherState:500,humidity:100,wind:6.92,max_temperature:28,min_temperature:28,pressure:1014.67,deg:77.0023,time:1537741360},{temperature:28,weatherState:800,humidity:100,wind:6.82,max_temperature:28,min_temperature:28,pressure:1012.8,deg:70.0002,time:1537741360}],g=function(e,t){var a;switch(t){case p:a=e-273.15;break;case d:a=1.8*e+32;break;default:a=e}return Math.round(a)},b=function(e,t){var a;switch(t){case p:a=e;break;case d:a=1.8*e+32;break;default:a=e}return Math.round(a)},v=function(e){var t="";switch(e){case p:t="C\xba";break;case d:t="F\xba";break;default:t="C\xba"}return t},E=function(e,t){var a=new Date(t).getHours()>18?"night":"day";return"weather-icon wi wi-owm-".concat(a,"-").concat(e)},S=function(e){return 1e3*e},_=function(e){return["DOM","LUN","MAR","MIE","JUE","VIE","SAB"][e]},N=function(e){return"".concat(e.getDate(),"/").concat(e.getMonth()+1)},O=function(e){var t=Object.keys(w),a="";return t.forEach(function(t){e>=w[t][0]&&e<=w[t][1]&&(a=t)}),a},j=function(e){var t=new Date(S(e)),a=new Date;return t.getDay()===a.getDay()?"Hoy, ".concat(0===t.getHours()?"00":t.getHours(),":").concat(t.getMinutes()):"Ma\xf1ana, ".concat(0===t.getHours()?"00":t.getHours(),":").concat(t.getMinutes())},D=function(e){var t={};return e.forEach(function(e){var a=new Date(e.time),r=_(a.getDay());t.hasOwnProperty(r)?t[r].push(e):t[r]=[e]}),t},x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={type:e.wType},a.changeGrade=a.changeGrade.bind(Object(h.a)(Object(h.a)(a))),a.changeWeather=e.changeWeather,a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componenteWillUpdate",value:function(){this.props.changeWeather(this.state.type)}},{key:"changeGrade",value:function(){this.changeWeather(this.state.type),this.state.type===p?this.setState({type:d}):this.setState({type:p})}},{key:"render",value:function(){return n.a.createElement("div",{className:"weather-grade-type"},n.a.createElement("input",{onChange:this.changeGrade,id:"cmn-toggle-4",className:"cmn-toggle cmn-toggle-round-flat",type:"checkbox",checked:this.state.type===p}),n.a.createElement("label",{htmlFor:"cmn-toggle-4"},this.state.type===p?v(p):v(d)))}}]),t}(r.Component),T=function(e){return n.a.createElement("div",{className:"weather-settings"},n.a.createElement("span",{className:"menu-title"},"Weather App"),n.a.createElement(x,{changeWeather:e.changeWeather,wType:e.wType}))},k=(a(13),function(e){var t=e.city,a=e.pinClass,r=e.selectedIndicator;return n.a.createElement("div",null,n.a.createElement("h1",{className:"weather-title-primary"},n.a.createElement("i",{className:"".concat(a)}),t,r?n.a.createElement("span",{className:"arrow-right"}):""))}),C=(a(11),function(e){var t,a,r=e.data,i=e.weatherType;return n.a.createElement("div",{className:"weather-current-content"},n.a.createElement("span",{className:"weather-main-description"},r.wind>5?"".concat(O(r.weatherState)," CON VIENTO"):O(r.weatherState)),n.a.createElement("div",{className:"weather-main-temp"},n.a.createElement("i",{className:E(r.weatherState,r.time)}),b(r.temperature,i),n.a.createElement("span",{className:"weather-type"}," ",v(i))),n.a.createElement("div",{className:"weather-main-info"},n.a.createElement("div",{className:"weather-main-info-left"},n.a.createElement("h2",{className:""},n.a.createElement("i",{className:"icons-main-content wi wi-raindrop"}),"Humedad: ",r.humidity," %"),n.a.createElement("h2",{className:""},n.a.createElement("i",{className:"icons-main-content wi wi-wind-beaufort-".concat(parseInt(r.wind,10))}),"Viento: ",r.wind," m/s"),n.a.createElement("h2",{className:""},n.a.createElement("i",{className:"icons-main-content wi wi-barometer"}),"Presi\xf3n: ",r.pressure," bar")),n.a.createElement("div",{className:"weather-main-info-right"},n.a.createElement("h2",{className:""},n.a.createElement("i",{className:"icons-main-content wi wi-sunset"}),"Puesta: ",j(r.sunset)),n.a.createElement("h2",{className:""},n.a.createElement("i",{className:"icons-main-content wi wi-sunrise"}),"Salida: ",j(r.sunrise)),n.a.createElement("h2",{className:""},n.a.createElement("i",{className:"icons-main-content fa fa-calendar"}),"Fecha: ",(t=r.time,a=new Date(t).toString(),"".concat(a.substring(3,15).toUpperCase()," "))))))}),L=a(9),F=a.n(L),I=a(2),R=a.n(I),P=function(e){var t=e.forecast,a=t.temperature,r=t.weatherState,i=t.time,c=t.humidity,s=t.wind,o=t.pressure,m=e.weatherType,u=new Date(i);return n.a.createElement("div",{key:F.a.uniqueId("hours_"),className:"weather-forecast-main"},n.a.createElement("span",{className:"weather-forecast-item"},n.a.createElement("i",{className:"icons-main-content fa fa-clock-o"}),u.getHours(),":00"),n.a.createElement("span",{className:"weather-forecast-item"}," ",n.a.createElement("i",{className:E(r,i)+" icon-forecast"}),b(a,m)+" "+v(m)),n.a.createElement("span",{className:"weather-forecast-item"},n.a.createElement("i",{className:"icons-main-content wi wi-raindrop"}),c," %"),n.a.createElement("span",{className:"weather-forecast-item"},n.a.createElement("i",{className:"icons-main-content wi wi-wind-beaufort-".concat(parseInt(s,10))}),s," m/s"),n.a.createElement("span",{className:"weather-forecast-item"},n.a.createElement("i",{className:"icons-main-content wi wi-barometer"}),o," bar"),n.a.createElement("br",null))};P.propType={forecast:R.a.arrayOf(R.a.shape({temperature:R.a.number.isRequired,weatherType:R.a.string.isRequired,weatherState:R.a.number.isRequired,humidity:R.a.number.isRequired,wind:R.a.number.isRequired,pressure:R.a.number.isRequired,time:R.a.instanceOf(Date).isRequired}))};var q=P,W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).state={selectedDay:Object.keys(D(e.forecastData))[0]},a.selectDay=a.selectDay.bind(Object(h.a)(Object(h.a)(a))),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"selectDay",value:function(e){this.setState({selectedDay:e})}},{key:"render",value:function(){var e=this,t=this.state.selectedDay,a=this.props,r=a.forecastData,i=a.weatherType,c=D(r),s=Object.keys(c);return n.a.createElement("div",{className:"weather-forecast-content"},n.a.createElement("div",{className:"weather-forecast-days-list"},s.map(function(a){var r=N(new Date(c[a][0].time)),i=a===t?" active":"";return n.a.createElement("div",{key:F.a.uniqueId("main_forecast_".concat(a,"_")),onClick:function(){e.selectDay(a)},className:"weather-forecast-days ".concat(i)},a,n.a.createElement("br",null),r)})),n.a.createElement("div",{className:"weather-forecast-hours-list"},c[t].map(function(e){return n.a.createElement(q,{key:F.a.uniqueId("main_forecast_hours_"),forecast:e,weatherType:i})})))}}]),t}(r.Component),A=function(e){function t(e){var a,r=e.city,n=e.data,i=e.forecastData,c=e.weatherType;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).state={city:r,data:n,forecastData:i,weatherType:c,showFullForecast:!1},a.handleGetFullForecast=a.handleGetFullForecast.bind(Object(h.a)(Object(h.a)(a))),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"handleGetFullForecast",value:function(){this.setState({showFullForecast:!this.state.showFullForecast})}},{key:"render",value:function(){var e,t,a=this.state.showFullForecast,r=this.props,i=r.weatherType,c=r.city,s=r.data,o=r.forecastData;return n.a.createElement("div",{className:"main-content"},n.a.createElement(k,{city:c,selectedIndicator:!1,pinClass:(e=c,t=e.split(",")[1].substring(1,3).toLowerCase(),"icon-pin em em-flag-".concat(t," flag-pin"))}),n.a.createElement("div",{className:"weather-main-content"},a?n.a.createElement(W,{forecastData:o,weatherType:i}):n.a.createElement(C,{data:s,weatherType:i})),n.a.createElement("div",{className:"weather-main-actions"},n.a.createElement("button",{onClick:this.handleGetFullForecast,className:"weather-button-show"},a?"ATR\xc1S":"PRON\xd3STICO COMPLETO")))}}]),t}(r.Component),V=function(e){var t=e.humidity,a=e.wind;return n.a.createElement("div",{className:"weather-data-extra-info"},n.a.createElement("i",{className:"wi wi-raindrop icon-humidity"}),n.a.createElement("span",{className:"span-weather-extra-info"},"Humedad: ".concat(t," % ")),n.a.createElement("br",null),n.a.createElement("i",{className:"wi wi-cloudy-windy icon-wind"}),n.a.createElement("span",{className:"span-weather-extra-info"},"Viento: ".concat(a," m/s")))};V.propType={humidity:R.a.number.isRequired,wind:R.a.string.isRequired};var M=V,B=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.temperature,a=e.weatherState,r=e.weatherType,i=e.humidity,c=e.wind,s=e.time;return n.a.createElement("div",{className:"weather-extra-info-current"},n.a.createElement("div",{className:"weather-data-temperature"},n.a.createElement("span",{className:"span-temperature"},n.a.createElement("i",{className:E(a,s)}),b(t,r),n.a.createElement("span",{className:"weather-type"}," ",v(r)))),n.a.createElement(M,{humidity:i,wind:c}))}}]),t}(r.Component),H=function(e){var t=e.data,a=e.weatherType;return n.a.createElement("div",{className:"weather-extra-info-forecast"},n.a.createElement("div",{className:"weather-forecast-list active"},t.map(function(e){var t=e.temperature,r=e.weatherState,i=e.time,c=new Date(i);return n.a.createElement("div",{key:t+"-"+i,className:"weather-forecast"},n.a.createElement("div",{className:"weather-forecast-day"},_(c.getDay())+" "+N(c)),n.a.createElement("div",{className:"weather-forecast-temperature"},n.a.createElement("i",{className:E(r,i)+" icon-forecast"}),b(t,a),n.a.createElement("span",{className:"weather-forecast-type"}," ",v(a))))})))};H.propType={weatherType:R.a.string.isRequired,data:R.a.arrayOf(R.a.shape({temperature:R.a.number.isRequired,weatherType:R.a.string.isRequired,weatherState:R.a.number.isRequired,max_temperature:R.a.number.isRequired,min_temperature:R.a.number.isRequired,time:R.a.instanceOf(Date).isRequired})).isRequired};var G=H,U=function(e){var t=e.handleForecastVisibility;return n.a.createElement("div",{className:"weather-bottom-info-container"},n.a.createElement("button",{className:"weather-button-show",onClick:function(){t()}},"SIGUIENTE 5 D\xcdAS"))};U.propType={handleForecastVisibility:R.a.string.isRequired};var J=U,K=(a(41),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).state={data:e.data,weatherType:e.weatherType,forecastData:e.forecastData,forecastVisibility:!1,onSelectLocation:e.onSelectLocation},a.onSelectLocation=e.onSelectLocation,a.selectLocation=a.selectLocation.bind(Object(h.a)(Object(h.a)(a))),a.handleForecastVisibility=a.handleForecastVisibility.bind(Object(h.a)(Object(h.a)(a))),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"handleForecastVisibility",value:function(){this.setState({forecastVisibility:!this.state.forecastVisibility})}},{key:"selectLocation",value:function(e,t,a){this.onSelectLocation(e,t,a)}},{key:"render",value:function(){var e=this,t=this.state.forecastVisibility,a=this.props,r=a.city,i=a.data,c=a.weatherType,s=i.temperature,o=i.weatherState,m=i.humidity,u=i.wind,l=i.time,h=function(e){return e.filter(function(e){return 23===new Date(e.time).getHours()})}(this.props.forecastData);return n.a.createElement("div",{className:"weather-extra-info-container"},n.a.createElement("div",{onClick:function(){e.selectLocation(r,i,h)}},t?n.a.createElement(G,{data:h,weatherType:c,weatherState:o}):n.a.createElement(B,{temperature:s,weatherType:c,weatherState:o,humidity:m,wind:u,time:l})),n.a.createElement(J,{handleForecastVisibility:this.handleForecastVisibility}))}}]),t}(r.Component));function Q(e){return Y(e)?{error:"Parece que ocurre un error consultando el servidor. Intente m\xe1s tarde.",cod:e.hasOwnProperty("cod")?e.cod:""}:{city:"".concat(e.name,", ").concat(e.sys.country),data:{temperature:g(e.main.temp,p),weatherState:e.weather[0].id,humidity:e.main.humidity,wind:parseInt(parseInt(e.wind.speed,10).toFixed(2),10),max_temperature:g(e.main.temp_max,p),min_temperature:g(e.main.temp_min,p),pressure:e.main.pressure,deg:e.wind.deg,sunrise:e.sys.sunrise,sunset:e.sys.sunset,time:S(e.dt)}}}function Y(e){return!e.hasOwnProperty("list")&&!e.hasOwnProperty("main")}var Z={getCurrentDataByCity:function(e,t){var a=function(e,t){return"".concat("https://api.openweathermap.org/data/2.5/").concat("weather","?q=").concat(e,",").concat(t,"&APPID=").concat("061f24cf3cde2f60644a8240302983f2")}(e.split(",")[0],t);return new Promise(function(e,t){fetch(a).then(function(e){return e.json()}).then(function(t){var a=Q(t);e(a)}).catch(function(e){return t(e)})})},getForecastDataByCity:function(e,t){var a=function(e,t){return"".concat("https://api.openweathermap.org/data/2.5/").concat("forecast","?q=").concat(e,",").concat(t,"&APPID=").concat("061f24cf3cde2f60644a8240302983f2")}(e,t);return new Promise(function(r,n){fetch(a).then(function(e){return e.json()}).then(function(a){Y(a)?n(Q(a)):r(a.list.map(function(a){return a.name=e,a.sys.country=t,Q(a).data}))}).catch(function(e){return n(e)})})},getCurrentDataByCoordinates:function(e,t){var a=function(e,t){return"".concat("https://api.openweathermap.org/data/2.5/").concat("weather","?lat=").concat(e,"&lon=").concat(t,"&APPID=").concat("061f24cf3cde2f60644a8240302983f2")}(e,t);return new Promise(function(e,t){fetch(a).then(function(e){return e.json()}).then(function(t){var a=Q(t);e(a)}).catch(function(e){return t(e)})})},getForecastDataByCoordinates:function(e,t){var a=function(e,t){return"".concat("https://api.openweathermap.org/data/2.5/").concat("forecast","?lat=").concat(e,"&lon=").concat(t,"&APPID=").concat("061f24cf3cde2f60644a8240302983f2")}(e,t);return new Promise(function(e,t){fetch(a).then(function(e){return e.json()}).then(function(t){var a=t.list.map(function(e){return Q(e).data});e(a)}).catch(function(e){return t(e)})})}},$=function(e){function t(e){var a,r=e.weatherType,n=e.city,i=e.country,c=e.onSelectLocation;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).state={error:null,message:null,type:r,city:n,country:i,data:f,forecastData:y,cssClass:"weather-container"},a.onSelectLocation=c,a.selectLocation=a.selectLocation.bind(Object(h.a)(Object(h.a)(a))),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;Z.getCurrentDataByCity(this.state.city,this.state.country).then(function(t){var a=t.city,r=t.data;Z.getForecastDataByCity(e.state.city,e.state.country).then(function(t){0===e.props.index&&e.selectLocation(a,r,t),e.setState({city:a,data:r,forecastData:t})}).catch(function(t){e.setState({error:!0,message:t})})})}},{key:"selectLocation",value:function(e,t,a){this.onSelectLocation(e,t,a)}},{key:"render",value:function(){var e=this.props,t=e.weatherType,a=e.selectedCity,r=this.state,i=r.city,c=r.data,s=r.forecastData,o=r.cssClass;return n.a.createElement("div",{className:"".concat(o)},n.a.createElement(k,{city:i,selectedIndicator:i===a,pinClass:"fa fa-map-marker icon-pin map-pin"}),n.a.createElement(K,{weatherType:t,city:i,data:c,onSelectLocation:this.selectLocation,forecastData:s,selectedCity:a}))}}]),t}(r.Component),z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).state={cities:e.cities,weatherType:e.weatherType,selectedCity:e.selectedCity},a.onSelectLocation=e.onSelectLocation,a.handleSelectLocation=a.handleSelectLocation.bind(Object(h.a)(Object(h.a)(a))),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"handleSelectLocation",value:function(e,t,a){this.onSelectLocation(e,t,a),this.setState({selectedCity:e})}},{key:"render",value:function(){var e=this,t=this.state.selectedCity,a=this.props,r=a.data,i=a.forecastData,c=a.weatherType,s=a.cities;return n.a.createElement("div",{className:"list-cities"},s.map(function(a,s){return n.a.createElement($,{key:a.join(", "),city:a.join(", "),country:a[1],data:r,forecastData:i,index:s,onSelectLocation:function(t,a,r){e.handleSelectLocation(t,a,r)},weatherType:c,selectedCity:t})}))}}]),t}(r.Component),X={getNearbyPlaces:function(e,t){var a=function(e,t){return"".concat("http://gd.geobytes.com/").concat("GetNearbyCities","?latitude=").concat(e,"&longitude=").concat(t)}(e,t);return new Promise(function(e,t){fetch(a).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return[e[1],e[6]]});e(a)}).catch(function(e){return console.log(e)})})}},ee=a(18),te=a.n(ee),ae=(a(45),[["Caracas","VE"],["Buenos Aires","AR"],["Santiago","CL"],["Brasilia","BR"],["Bogota","CO"],["London","UK"]]),re=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={weatherType:d,cities:ae,city:ae[0][0],country:ae[0][1],location:"".concat(ae[0][0],", ").concat(ae[0][1]),data:f,forecastData:y,error:!1,message:""},te.a.config(),e.changeWeatherType=e.changeWeatherType.bind(Object(h.a)(Object(h.a)(e))),e.selectLocation=e.selectLocation.bind(Object(h.a)(Object(h.a)(e))),e.getLocation=e.getLocation.bind(Object(h.a)(Object(h.a)(e))),e}return Object(l.a)(t,e),Object(o.a)(t,[{key:"changeWeatherType",value:function(e){this.setState({weatherType:e})}},{key:"selectLocation",value:function(e,t,a){this.setState({location:e,data:t,forecastData:a})}},{key:"handleFade",value:function(){var e=c.a.findDOMNode(this);window.requestAnimationFrame(function(){e.style.transform="translateY(10px)",e.style.transition="transform 1.5s"})}},{key:"getLocation",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this.handleFade(),this.changeWeatherType(p),new Promise(function(e,t){fetch("http://ip-api.com/json/").then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return t(e)})}).then(function(t){var a=t.city,r=t.countryCode,n=t.lat,i=t.lon;X.getNearbyPlaces(n,i).then(function(t){e.setState({location:"".concat(a,", ").concat(r),city:a,country:r,cities:t})})})}},{key:"render",value:function(){var e=this.state,t=e.weatherType,a=e.location,r=e.data,i=e.forecastData,c=e.error,s=e.cities;return n.a.createElement("div",{className:"app-container"},c?n.a.createElement("div",null,"Ha ocurrido un error"):n.a.createElement("div",null,n.a.createElement(T,{changeWeather:this.changeWeatherType,wType:t}),n.a.createElement(A,{city:a,data:r,forecastData:i,weatherType:t}),n.a.createElement(z,{cities:s,weatherType:t,onSelectLocation:this.selectLocation,selectedCity:a})))}}]),t}(r.Component),ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(n.a.createElement(re,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/weatherapp",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/weatherapp","/service-worker.js");ne?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ie(e)})}}()}},[[19,2,1]]]);
//# sourceMappingURL=main.9f889e94.chunk.js.map